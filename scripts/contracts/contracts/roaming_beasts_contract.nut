this.roaming_beasts_contract <- this.inherit("scripts/contracts/contract", {
	m = {
		Target = null,
		IsPlayerAttacking = true
	},
	function create()
	{
		this.contract.create();
		this.m.Type = "contract.roaming_beasts";
		this.m.Name = "Chasse aux BÃªtes";
		this.m.TimeOut = this.Time.getVirtualTimeF() + this.World.getTime().SecondsPerDay * 7.0;
	}

	function onImportIntro()
	{
		this.importSettlementIntro();
	}

	function start()
	{
		this.m.Payment.Pool = 500 * this.getPaymentMult() * this.Math.pow(this.getDifficultyMult(), this.Const.World.Assets.ContractRewardPOW) * this.getReputationToPaymentMult();

		if (this.Math.rand(1, 100) <= 33)
		{
			this.m.Payment.Completion = 0.75;
			this.m.Payment.Advance = 0.25;
		}
		else
		{
			this.m.Payment.Completion = 1.0;
		}

		this.contract.start();
	}

	function createStates()
	{
		this.m.States.push({
			ID = "Offer",
			function start()
			{
				this.Contract.m.BulletpointsObjectives = [
					"Chassez ce qui terrorise " + this.Contract.m.Home.getName()
				];

				if (this.Math.rand(1, 100) <= this.Const.Contracts.Settings.IntroChance)
				{
					this.Contract.setScreen("Intro");
				}
				else
				{
					this.Contract.setScreen("Task");
				}
			}

			function end()
			{
				this.World.Assets.addMoney(this.Contract.m.Payment.getInAdvance());

				if (this.Math.rand(1, 100) <= 5 && this.World.Assets.getBusinessReputation() > 500)
				{
					this.Flags.set("IsHumans", true);
				}
				else
				{
					local village = this.Contract.getHome().get();
					local twists = [];
					local r;
					r = 50;

					if (this.isKindOf(village, "small_lumber_village") || this.isKindOf(village, "medium_lumber_village"))
					{
						r = r + 50;
					}
					else if (this.isKindOf(village, "small_tundra_village") || this.isKindOf(village, "medium_tundra_village"))
					{
						r = r + 50;
					}
					else if (this.isKindOf(village, "small_snow_village") || this.isKindOf(village, "medium_snow_village"))
					{
						r = r + 50;
					}
					else if (this.isKindOf(village, "small_steppe_village") || this.isKindOf(village, "medium_steppe_village"))
					{
						r = r - 25;
					}
					else if (this.isKindOf(village, "small_swamp_village") || this.isKindOf(village, "medium_swamp_village"))
					{
						r = r - 25;
					}

					twists.push({
						F = "IsDirewolves",
						R = r
					});
					r = 50;

					if (this.isKindOf(village, "small_steppe_village") || this.isKindOf(village, "medium_steppe_village"))
					{
						r = r + 50;
					}
					else if (this.isKindOf(village, "small_farming_village") || this.isKindOf(village, "medium_farming_village"))
					{
						r = r + 25;
					}
					else if (this.isKindOf(village, "small_tundra_village") || this.isKindOf(village, "medium_tundra_village"))
					{
						r = r - 25;
					}
					else if (this.isKindOf(village, "small_snow_village") || this.isKindOf(village, "medium_snow_village"))
					{
						r = r - 50;
					}
					else if (this.isKindOf(village, "small_swamp_village") || this.isKindOf(village, "medium_swamp_village"))
					{
						r = r + 25;
					}

					twists.push({
						F = "IsGhouls",
						R = r
					});

					if (this.Const.DLC.Unhold)
					{
						r = 50;

						if (this.isKindOf(village, "small_lumber_village") || this.isKindOf(village, "medium_lumber_village"))
						{
							r = r + 100;
						}
						else if (this.isKindOf(village, "small_tundra_village") || this.isKindOf(village, "medium_tundra_village"))
						{
							r = r - 25;
						}
						else if (this.isKindOf(village, "small_steppe_village") || this.isKindOf(village, "medium_steppe_village"))
						{
							r = r - 25;
						}
						else if (this.isKindOf(village, "small_snow_village") || this.isKindOf(village, "medium_snow_village"))
						{
							r = r - 50;
						}
						else if (this.isKindOf(village, "small_swamp_village") || this.isKindOf(village, "medium_swamp_village"))
						{
							r = r + 25;
						}

						twists.push({
							F = "IsSpiders",
							R = r
						});
					}

					local maxR = 0;

					foreach( t in twists )
					{
						maxR = maxR + t.R;
					}

					local r = this.Math.rand(1, maxR);

					foreach( t in twists )
					{
						if (r <= t.R)
						{
							this.Flags.set(t.F, true);
						}
						else
						{
							r = r - t.R;
						}
					}
				}

				local playerTile = this.World.State.getPlayer().getTile();
				local tile = this.Contract.getTileToSpawnLocation(playerTile, 5, 10);
				local party;

				if (this.Flags.get("IsHumans"))
				{
					party = this.World.FactionManager.getFactionOfType(this.Const.FactionType.Bandits).spawnEntity(tile, "Loups-Garous", false, this.Const.World.Spawn.BanditsDisguisedAsDirewolves, 100 * this.Contract.getDifficultyMult() * this.Contract.getScaledDifficultyMult(), this.Contract.getMinibossModifier());
					party.setDescription("A pack of ferocious direwolves on the hunt for prey.");
					party.setFootprintType(this.Const.World.FootprintsType.Direwolves);
					this.Const.World.Common.addFootprintsFromTo(this.Contract.m.Home.getTile(), party.getTile(), this.Const.BeastFootprints, this.Const.World.FootprintsType.Direwolves, 0.75);
				}
				else if (this.Flags.get("IsGhouls"))
				{
					party = this.World.FactionManager.getFactionOfType(this.Const.FactionType.Beasts).spawnEntity(tile, "Nachzehrers", false, this.Const.World.Spawn.Ghouls, 110 * this.Contract.getDifficultyMult() * this.Contract.getScaledDifficultyMult(), this.Contract.getMinibossModifier());
					party.setDescription("A flock of scavenging nachzehrers.");
					party.setFootprintType(this.Const.World.FootprintsType.Ghouls);
					this.Const.World.Common.addFootprintsFromTo(this.Contract.m.Home.getTile(), party.getTile(), this.Const.BeastFootprints, this.Const.World.FootprintsType.Ghouls, 0.75);
				}
				else if (this.Flags.get("IsSpiders"))
				{
					party = this.World.FactionManager.getFactionOfType(this.Const.FactionType.Beasts).spawnEntity(tile, "Nachzehrers", false, this.Const.World.Spawn.Ghouls, 110 * this.Contract.getDifficultyMult() * this.Contract.getScaledDifficultyMult(), this.Contract.getMinibossModifier());
					party.setDescription("A swarm of webknechts skittering about.");
					party.setFootprintType(this.Const.World.FootprintsType.Spiders);
					this.Const.World.Common.addFootprintsFromTo(this.Contract.m.Home.getTile(), party.getTile(), this.Const.BeastFootprints, this.Const.World.FootprintsType.Spiders, 0.75);
				}
				else
				{
					party = this.World.FactionManager.getFactionOfType(this.Const.FactionType.Beasts).spawnEntity(tile, "Loups-Garous", false, this.Const.World.Spawn.Direwolves, 110 * this.Contract.getDifficultyMult() * this.Contract.getScaledDifficultyMult(), this.Contract.getMinibossModifier());
					party.setDescription("A pack of ferocious direwolves on the hunt for prey.");
					party.setFootprintType(this.Const.World.FootprintsType.Direwolves);
					this.Const.World.Common.addFootprintsFromTo(this.Contract.m.Home.getTile(), party.getTile(), this.Const.BeastFootprints, this.Const.World.FootprintsType.Direwolves, 0.75);
				}

				party.setAttackableByAI(false);
				party.setFootprintSizeOverride(0.75);
				this.Contract.m.Target = this.WeakTableRef(party);
				party.getSprite("banner").setBrush("banner_beasts_01");
				local c = party.getController();
				c.getBehavior(this.Const.World.AI.Behavior.ID.Flee).setEnabled(false);
				local roam = this.new("scripts/ai/world/orders/roam_order");
				roam.setPivot(this.Contract.m.Home);
				roam.setMinRange(2);
				roam.setMaxRange(8);
				roam.setAllTerrainAvailable();
				roam.setTerrain(this.Const.World.TerrainType.Ocean, false);
				roam.setTerrain(this.Const.World.TerrainType.Shore, false);
				roam.setTerrain(this.Const.World.TerrainType.Mountains, false);
				c.addOrder(roam);
				this.Contract.m.Home.setLastSpawnTimeToNow();
				this.Contract.setScreen("Overview");
				this.World.Contracts.setActiveContract(this.Contract);
			}

		});
		this.m.States.push({
			ID = "Running",
			function start()
			{
				if (this.Contract.m.Target != null && !this.Contract.m.Target.isNull())
				{
					this.Contract.m.Target.getSprite("selection").Visible = true;
					this.Contract.m.Target.setOnCombatWithPlayerCallback(this.onTargetAttacked.bindenv(this));
				}
			}

			function update()
			{
				if (this.Contract.m.Target == null || this.Contract.m.Target.isNull() || !this.Contract.m.Target.isAlive())
				{
					if (this.Flags.get("IsHumans"))
					{
						this.Contract.setScreen("CollectingProof");
						this.World.Contracts.showActiveContract();
					}
					else if (this.Flags.get("IsGhouls"))
					{
						this.Contract.setScreen("CollectingGhouls");
						this.World.Contracts.showActiveContract();
					}
					else if (this.Flags.get("IsSpiders"))
					{
						this.Contract.setScreen("CollectingSpiders");
						this.World.Contracts.showActiveContract();
					}
					else
					{
						this.Contract.setScreen("CollectingPelts");
						this.World.Contracts.showActiveContract();
					}

					this.Contract.setState("Return");
				}
				else if (!this.Flags.get("IsWorkOfBeastsShown") && this.World.getTime().IsDaytime && this.Contract.m.Target.isHiddenToPlayer() && this.Math.rand(1, 9000) <= 1)
				{
					this.Flags.set("IsWorkOfBeastsShown", true);
					this.Contract.setScreen("WorkOfBeasts");
					this.World.Contracts.showActiveContract();
				}
			}

			function onTargetAttacked( _dest, _isPlayerAttacking )
			{
				if (this.Flags.get("IsHumans") && !this.Flags.get("IsAttackDialogTriggered"))
				{
					this.Flags.set("IsAttackDialogTriggered", true);
					local troops = this.Contract.m.Target.getTroops();

					foreach( t in troops )
					{
						t.ID = this.Const.EntityType.BanditRaider;
					}

					this.Contract.m.IsPlayerAttacking = _isPlayerAttacking;
					this.Contract.setScreen("Humans");
					this.World.Contracts.showActiveContract();
				}
				else
				{
					this.World.Contracts.showCombatDialog(_isPlayerAttacking);
				}
			}

		});
		this.m.States.push({
			ID = "Return",
			function start()
			{
				this.Contract.m.BulletpointsObjectives = [
					"Retournez Ã  " + this.Contract.m.Home.getName()
				];
				this.Contract.m.Home.getSprite("selection").Visible = true;
			}

			function update()
			{
				if (this.Contract.isPlayerAt(this.Contract.m.Home))
				{
					if (this.Flags.get("IsHumans"))
					{
						this.Contract.setScreen("Success2");
					}
					else if (this.Flags.get("IsGhouls"))
					{
						this.Contract.setScreen("Success3");
					}
					else if (this.Flags.get("IsSpiders"))
					{
						this.Contract.setScreen("Success4");
					}
					else
					{
						this.Contract.setScreen("Success1");
					}

					this.World.Contracts.showActiveContract();
				}
			}

		});
	}

	function createScreens()
	{
		this.importScreens(this.Const.Contracts.NegotiationDefault);
		this.importScreens(this.Const.Contracts.Overview);
		this.m.Screens.push({
			ID = "Task",
			Title = "NÃ©gociations",
			Text = "[img]gfx/ui/events/event_43.png[/img]{Pendant que vous attendez que %employer% vous explique pourquoi il a besoin de vos services, vous rÃ©flÃ©chissez au silence et Ã  l\'inquiÃ©tude qui rÃ©gnaient dans la colonie Ã  votre arrivÃ©e. %employer% Ã©lÃ¨ve la voix %SPEECH_ON%Cet endroit est maudit par les dieux et hantÃ© par des bÃªtes surnaturelles ! Elles viennent dans la nuit avec des yeux rouges brillants et prennent des vies Ã  leur guise. La plupart de notre bÃ©tail est mort et je crains qu\'une fois qu\'il n\'y en aura plus, nous serons les prochains Ã  Ãªtre dÃ©chiquetÃ©s. L\'autre jour, nous avons envoyÃ© nos meilleurs hommes pour trouver et tuer les bÃªtes, mais nous n\'avons plus entendu parler d\'eux depuis..%SPEECH_OFF%Il soupire profondÃ©ment.%SPEECH_ON%Suivez les traces %direction%, traquez et tuez ces crÃ©atures pour que nous puissions vivre en paix Ã  nouveau ! Nous ne sommes pas riches, mais nous nous cotisons tous pour payer vos services.%SPEECH_OFF% | %employer% regarde par la fenÃªtre quand vous le trouvez. Il a un gobelet Ã  la main, et il n\'y a que le silence dehors. Il se tourne vers vous, presque abattu.%SPEECH_ON%Quand vous Ãªtes arrivÃ© ici, avez-vous rÃ©alisÃ© Ã  quel point c\'Ã©tait calme ?%SPEECH_OFF%Vous faites remarquer que c\'est le cas, mais vous Ãªtes un mercenaire. Et vous avez l\'habitude d\'Ãªtre accueilli ainsi. %employer% acquiesce et prend un verre.%SPEECH_ON%Ah, bien sÃ»r. Malheureusement, ce n\'est pas que les gens ont peur de vous. Pas cette fois-ci. Nous avons Ã©tÃ© attaquÃ©s ces derniÃ¨res semaines. Des bÃªtes de quelconque nature sont en libertÃ©, nous ne savons pas ce qu\'elles sont, mais seulement qui elles prennent. Nous avons implorÃ© notre seigneur, bien sÃ»r, mais il n\'a rien fait pour nous aider...%SPEECH_OFF%Son prochain verre est long. Quand il a fini, il se tourne vers vous, une tasse vide Ã  la main.%SPEECH_ON%Voulez-vous aller chasser ces monstres ? S\'il vous plaÃ®t, mercenaire, aidez-nous.%SPEECH_OFF% | Lorsque vous le trouvez, %employer% Ã©coute les conversations de quelques paysans. Quand ils vous voient, ils partent rapidement, laissant l\'homme avec une sacoche Ã  la main. Il la brandit.%SPEECH_ON%Il y a des couronnes lÃ -dedans. Des couronnes que ces gens me donnent pour donner Ã  quelqu\'un, n\'importe qui, pour nous aider. Les gens disparaissent, mercenaire, et quand on les retrouve, ils sont... pas seulement morts, mais... dÃ©chiquetÃ©s. MutilÃ©s. Tout le monde a trop peur pour aller oÃ¹ que ce soit.%SPEECH_OFF%Il fixe le sac, puis vous regarde.%SPEECH_ON%J\'espÃ¨re que cette tÃ¢che vous intÃ©resse.%SPEECH_OFF% | Vous trouvez %employer% en train de lire un parchemin. Il vous lance le papier et vous demande de lire les noms. L\'Ã©criture est compliquÃ©e, mais pas autant que les noms eux-mÃªmes. Vous vous arrÃªtez et vous vous excusez en disant que vous n\'Ãªtes pas d\'ici. L\'homme hoche la tÃªte et reprend le parchemin.%SPEECH_ON%Ãa ira, mercenaire. Si vous vous demandez, il s\'agit des noms des hommes, femmes et enfants qui sont morts la semaine derniÃ¨re.%SPEECH_OFF%La semaine derniÃ¨re ? Il y avait beaucoup de noms sur cette liste. L\'homme, semblant vous comprendre, acquiesce d\'un air sombre.%SPEECH_ON%Oui, nous sommes dans une mauvaise passe. Tant de vies perdues. Nous pensons que c\'est l\'oeuvre de crÃ©atures immondes, des bÃªtes au-delÃ  de notre comprÃ©hension. Ãvidemment, nous aimerions que vous alliez les trouver et les dÃ©truire. Seriez-vous intÃ©ressÃ© par une telle tÃ¢che, mercenaire ?%SPEECH_OFF% | %employer% a quelques chiens Ã  ses pieds, tous Ã©puisÃ©s, la langue pendante.%SPEECH_ON%Ils ont passÃ© les derniers jours Ã  rechercher des personnes disparues. Des gens qui semblent disparaÃ®tre dieu sait oÃ¹.%SPEECH_OFF%Il se penche et caresse l\'un des chiens, le grattant derriÃ¨re l\'oreille. Normalement, un chien devrait rÃ©pondre Ã  cela, mais la pauvre bÃªte rÃ©agit Ã  peine.%SPEECH_ON%Les gens ne savent pas ce que je sais, c\'est-Ã -dire que les gens ne font pas que disparaÃ®tre... ils sont enlevÃ©s. D\'horribles bÃªtes sont en libertÃ©, mercenaire, et j\'ai besoin que vous les poursuiviez. Bon sang, peut-Ãªtre que vous trouverez mÃªme un ou deux habitants de la ville, bien que j\'en doute.%SPEECH_OFF%L\'un des clÃ©bards laisse Ã©chapper un long souffle fatiguÃ©, comme s\'il comprenait. | %employer% a une sacoche Ã  laquelle est attachÃ© un parchemin, mais le nom Ã©crit sur le papier n\'est pas le vÃ´tre. Il le pÃ¨se avec soin, les piÃ¨ces de monnaie s\'enroulent autour de ses doigts, leur tintement et leur tintement s\'attÃ©nuent. Il se tourne vers vous.%SPEECH_ON%Vous reconnaissez ce nom ?%SPEECH_OFF%Vous secouez la tÃªte. L\'homme continue.%SPEECH_ON%Il y a une semaine, nous avons envoyÃ© le cÃ©lÃ¨bre %randomnoble% %direction% d\'ici chasser des bÃªtes immondes qui terrorisent la ville et les fermes environnantes depuis des semaines. Savez-vous pourquoi cette sacoche est restÃ©e en ma possession ?%SPEECH_OFF%Vous haussez les Ã©paules et rÃ©pondez.%SPEECH_ON%Parce qu\'il n\'est pas revenu ?%SPEECH_OFF%%employer% acquiesce et pose la sacoche. Il s\'assied sur le bord de sa table.%SPEECH_ON%Correct. Parce qu\'il n\'est pas revenu. Maintenant, pourquoi pensez-vous que c\'est le cas ? Je pense que c\'est parce qu\'il est mort, mais ne soyons pas si nÃ©gatifs. Je pense que c\'est parce que les bÃªtes dehors ont besoin de plus. Je pense qu\'elles ont besoin de quelqu\'un comme vous, mercenaire. Seriez-vous prÃªt Ã  nous aider maintenant que ce noble a Ã©chouÃ© ?%SPEECH_OFF% | %employer% prend un livre de son Ã©tagÃ¨re. Lorsqu\'il le pose sur sa table, de la poussiÃ¨re ou peut-Ãªtre mÃªme des cendres jaillissent. Il l\'ouvre, le feuillette lentement de page en page.%SPEECH_ON%Croyez-vous aux monstres, mercenaire ? Je vous le demande honnÃªtement, car je crois que vous connaissez plus ce monde que moi.%SPEECH_OFF%Vous acquiescez et dites.%SPEECH_ON%Plus qu\'une simple croyance, oui.%SPEECH_OFF%L\'homme feuillette une autre page. Il lÃ¨ve les yeux vers vous.%SPEECH_ON%Eh bien, nous pensons que des monstres sont venus Ã  %townname%. Nous pensons que c\'est pour Ã§a que des gens disparaissent. Vous comprenez oÃ¹ je veux en venir ? J\'ai besoin que vous trouviez ces \"crÃ©atures\"  et que vous les tuiez comme les autres. Ãtes-vous intÃ©ressÃ© ?%SPEECH_OFF%}",
			Image = "",
			List = [],
			ShowEmployer = true,
			ShowDifficulty = true,
			Options = [
				{
					Text = "{Qu\'est-ce que Ã§a vaut pour vous ? | Combien %townname% est prÃªte Ã  payer ? | Parlons salaire.}",
					function getResult()
					{
						return "Negotiation";
					}

				},
				{
					Text = "{Ãa ne ressemble pas Ã  notre type de travail. | Je vous souhaite bonne chance, mais nous ne participerons pas Ã  cela.}",
					function getResult()
					{
						this.World.Contracts.removeContract(this.Contract);
						return 0;
					}

				}
			],
			function start()
			{
			}

		});
		this.m.Screens.push({
			ID = "Humans",
			Title = "Avant l\'attaque...",
			Text = "[img]gfx/ui/events/event_07.png[/img]{Ce ne sont pas du tout des bÃªtes, mais des hommes dÃ©guisÃ©s en loups ! AprÃ¨s avoir vu le \"vrai\" visage de ce mal, les hommes sont soulagÃ©s de savoir que leur ennemi est quelque chose qu\'ils ne connaissent que trop bien. | Alors que vous vous rapprochez des monstres, vous rÃ©alisez que ces crÃ©atures immondes ne sont pas du tout des bÃªtes, mais des humains dÃ©guisÃ©s ! Vous ne savez pas pourquoi ils ont jouÃ© Ã  un tel jeu de dÃ©guisement, mais ils dÃ©gainent leurs armes. En ce qui vous concerne, bÃªte ou homme, ils meurent tous de la mÃªme faÃ§on. | Vous tombez sur un homme qui enlÃ¨ve une tÃªte de loup de ses Ã©paules. Il vous jette un regard, le dÃ©guisement toujours en main, puis le remet rapidement. Vous tirez votre Ã©pÃ©e.%SPEECH_ON%C\'est un peu tard pour faire semblant.%SPEECH_OFF%Le coup de votre arme fait tomber le masque de l\'homme et il trÃ©buche en arriÃ¨re. Avant que vous ne puissiez l\'Ã©craser, il s\'enfuit en sprintant vers un groupe d\'hommes tout aussi renfrognÃ©s. Ils sortent leurs armes Ã  votre simple vue. Quelle que soit la raison pour laquelle ces idiots jouaient Ã  se dÃ©guiser, cela n\'a plus d\'importance maintenant. | Vous tombez sur une bÃªte morte avec quelques flÃ¨ches plantÃ©es dans le dos. Les dÃ©gÃ¢ts ne semblent pas mortels... et lorsque vous faites glisser votre Ã©pÃ©e sur la criniÃ¨re de la crÃ©ature, la tÃªte se dÃ©tache, rÃ©vÃ©lant un humain en dessous.%SPEECH_ON%Vous avez fait Ã§a ?%SPEECH_OFF%Une voix s\'Ã©lÃ¨ve devant vous. Il y a lÃ  quelques hommes qui enlÃ¨vent leur dÃ©guisement : celui des bÃªtes que vous recherchiez. Celui qui est en tÃªte Ã©lÃ¨ve la voix.%SPEECH_ON%Tuez-les ! Tuez-les tous !%SPEECH_OFF%Non, ce sont toujours des bÃªtes, mais d\'un genre plus doux.}",
			Image = "",
			List = [],
			Options = [
				{
					Text = "PrÃ©parez-vous Ã  attaquer !",
					function getResult()
					{
						this.Contract.getActiveState().onTargetAttacked(this.Contract.m.Target, this.Contract.m.IsPlayerAttacking);
						return 0;
					}

				}
			]
		});
		this.m.Screens.push({
			ID = "WorkOfBeasts",
			Title = "Sur la route...",
			Text = "[img]gfx/ui/events/event_60.png[/img]{Vous tombez sur un cadavre dans l\'herbe. D\'habitude, les morts ne sont pas une surprise, il y a des gens partout alors ce n\'est qu\'une question de temps avant de voir un corps ici et lÃ . Sauf que celui-ci a d\'Ã©normes entailles dans le dos et qu\'il lui manque des organes.\n\n%helpfulbrother% s\'avance.%SPEECH_ON%Les organes ont disparu Ã  cause des loups, ou peut-Ãªtre mÃªme des lapins. Quoi, vous n\'avez jamais entendu parler d\'un lapin vraiment affamÃ© ?%SPEECH_OFF%Il crache et se ronge un ongle.%SPEECH_ON%Quoi qu\'il en soit, les marques, ce n\'est pas le travail d\'un lapin ou d\'un chien de chasse ou autre. C\'est quelque chose... de plus grand... de plus dangereux.%SPEECH_OFF%Vous remerciez l\'homme pour ses observations astucieuses et lui dites de rejoindre les rangs. | Un paysan s\'approche de vous avec ses vÃªtements en lambeaux. Avec une certaine pudeur, il a les mains qui couvrent son entrejambe.%SPEECH_ON%S\'il vous plaÃ®t, messieurs, venez jeter un coup d\'oeil Ã  cette... horreur.%SPEECH_OFF%Lorsque vous lui demandez de quoi il parle, il lÃ¨ve les mains en l\'air et se dÃ©hanche sur vous. Il se retourne comme une marionnette et s\'enfuit en courant, en hululant et en hurlant. Une femme s\'approche de vous en place de la folie de l\'homme. Elle a les mains sur sa poitrine.%SPEECH_ON%Il est devenu fou parce que son frÃ¨re a Ã©tÃ© dÃ©chiquetÃ© par les bÃªtes.%SPEECH_OFF%Vous vous tournez vers elle, vous attendant Ã  moitiÃ© Ã  ce que la dame arrache ses vÃªtements et fasse vaciller ses formes dans la direction qui lui plaÃ®t. Au lieu de cela, elle se contente de vous regarder fixement.%SPEECH_ON%Je sais que %townname% a engagÃ© des hommes pour s\'occuper de ces bÃªtes et vous avez l\'air d\'un homme de main. S\'il vous plaÃ®t, monsieur, protÃ©gez-nous de ces maux... et des maux qu\'ils rÃ©pandent...%SPEECH_OFF% | Vous tombez sur une vache Ã©viscÃ©rÃ©e, dont la moitiÃ© est couchÃ©e sur une clÃ´ture et l\'autre moitiÃ© est Ã©parpillÃ©e sur une bonne distance dans l\'herbe, aussi loin que ses entrailles le permettent.\n\nUn fermier s\'approche, en soulevant son chapeau pour se protÃ©ger les yeux.%SPEECH_ON%Les bÃªtes ont fait Ã§a. Je ne les ai pas vues, si vous vous demandez, mais j\'ai entendu ce fiasco avant vous. L\'entendre Ã©tait suffisant pour que je reste Ã  l\'Ã©cart et hors de vue. S\'il vous plaÃ®t, si vous Ãªtes ici pour trouver ces crÃ©atures, faites-le rapidement car je ne peux pas me permettre de perdre plus de bÃ©tail comme Ã§a.%SPEECH_OFF% | Un paysan coupant du bois de chauffage se redresse devant vous.%SPEECH_ON%Par les dieux, c\'est bon de vous voir, messieurs. J\'ai cru entendre que des mercenaires se promenaient Ã  la recherche des bÃªtes qui terrorisent ces rÃ©gions.%SPEECH_OFF%Vous lui demandez s\'il a vu quelque chose qui pourrait vous aider. Il pose ses mains sur le pommeau de sa hache.%SPEECH_ON%Je ne peux pas dire que j\'ai des informations, non. Mais j\'ai entendu certaines choses. Je sais qu\'un homme et une femme, pas loin d\'ici, ont Ã©tÃ© enlevÃ©s. Eh bien, ils ont disparu ensemble. On dit qu\'ils sont morts dans les bois maintenant. AccrochÃ©s aux arbres, pendus par les tripes, vous voyez ? Ou, attendez, peut-Ãªtre qu\'ils sont juste partis Ã  pieds pour s\'installer ensemble ! Merde... merde ! Cette fille dÃ©testait son pÃ¨re et le gamin n\'Ã©tait qu\'un moins que rien avec une belle gueule et une langue charmante. Ouais, c\'est logique.%SPEECH_OFF%Il fait une pause, puis vous regarde.%SPEECH_ON%Quoi qu\'il en soit, je suis certain que ces monstres sont encore debout. Gardez l\'oeil ouvert, mercenaire.%SPEECH_OFF% | Une femme sort en courant de sa hutte pour vous arrÃªter. Presque Ã  bout de souffle, elle vous demande si vous avez vu un garÃ§on. Vous faites non de la tÃªte. Elle lÃ¨ve la main.%SPEECH_ON%Il est grand comme Ã§a. Une tignasse de cheveux bruns. Pas naturellement, mais le gamin aime bien sa boue. Quand il sourit, ses dents sont comme les Ã©toiles, brillantes et Ã©parpillÃ©es.%SPEECH_OFF%Vous secouez la tÃªte pour refuser une seconde fois.%SPEECH_ON%Il peut lancer une bonne pierre. Il la lance loin. Je lui ai dit de ne pas montrer sa force quand les hommes du seigneur Ã©taient lÃ , de peur qu\'ils ne le prennent dans l\'armÃ©e.%SPEECH_OFF%Elle souffle, en chassant une mÃ¨che de cheveux de ses yeux.%SPEECH_ON%Eh bien merde, de toute faÃ§on, si vous le voyez, faites-le moi savoir. Aussi, faites attention Ã  l\'obscuritÃ©. Des bÃªtes s\'attaquent aux gens par ici.%SPEECH_OFF%Avant que vous ne puissiez dire quoi que ce soit, la femme ramasse ses vÃªtements longs et retourne Ã  sa hutte. | Vous rencontrez un homme Ã  genoux devant un chien complÃ¨tement dÃ©truit. Vous vous agenouillez Ã  cÃ´tÃ© de lui.%SPEECH_ON%Ce sont les bÃªtes qui ont fait Ã§a ?%SPEECH_OFF%Il secoue la tÃªte pour dire non.%SPEECH_ON%Bon sang, je l\'ai fait. Enfin. Ce satanÃ© truc ne va plus m\'empÃªcher de dormir.%SPEECH_OFF%Ã ce moment-lÃ , une cabane en face s\'ouvre et un homme en sort en hurlant.%SPEECH_ON%Est-ce que c\'est mon maudit chien, fils de pute ?%SPEECH_OFF%Le tueur de chiens se lÃ¨ve rapidement.%SPEECH_ON%Les bÃªtes ! Elles sont encore venues hier soir !%SPEECH_OFF%Vous laissez tranquillement la dispute oÃ¹ le chien est Ã©tendu.}",
			Image = "",
			List = [],
			Options = [
				{
					Text = "On continue.",
					function getResult()
					{
						return 0;
					}

				}
			]
		});
		this.m.Screens.push({
			ID = "CollectingPelts",
			Title = "AprÃ¨s la bataille...",
			Text = "[img]gfx/ui/events/event_56.png[/img]{Les bÃªtes tuÃ©es, vous ordonnez aux hommes de prendre leurs peaux comme preuve. Votre employeur, %employer%, devrait Ãªtre trÃ¨s heureux de les voir. | AprÃ¨s avoir tuÃ© les crÃ©atures immondes, vous commencez Ã  les dÃ©pecer et Ã  les scalper. Les crÃ©atures horribles nÃ©cessitent des preuves horribles. Votre employeur, %employer%, pourrait ne pas croire que vous avez fait votre travail autrement. | Une fois la bataille terminÃ©e, vous demandez aux hommes de commencer Ã  collecter les peaux pour les ramener Ã  %employer%, votre employeur. | Votre employeur, %employer%, pourrait ne pas croire ce qui s\'est passÃ© ici sans preuve. Vous ordonnez aux hommes de commencer Ã  prendre des peaux, des trophÃ©es, des scalps, tout ce qui pourrait tÃ©moigner de votre victoire ici.}",
			Image = "",
			List = [],
			Options = [
				{
					Text = "Finissons-en avec Ã§a, nous avons des couronnes Ã  collecter.",
					function getResult()
					{
						return 0;
					}

				}
			]
		});
		this.m.Screens.push({
			ID = "CollectingProof",
			Title = "AprÃ¨s la bataille...",
			Text = "[img]gfx/ui/events/event_22.png[/img]{Vos hommes prennent les dÃ©guisements des fous de peur que votre employeur, %employer%, ne croit pas Ã  vos actions ici. | Votre employeur pourrait ne pas croire ce qui se passe ici. Vous ordonnez Ã  vos hommes de rÃ©cupÃ©rer les dÃ©guisements. %bro1%, en enlevant le masque d\'un des morts, commence Ã  s\'interroger.%SPEECH_ON%Alors ils se sont dÃ©guisÃ©s en ce genre de choses pour nous attirer, et maintenant ils sont tous morts. J\'espÃ¨re qu\'ils ne pensaient pas que c\'Ã©tait un jeu.%SPEECH_OFF%%bro2% nettoie sa lame dans les plis d\'un des dÃ©guisements.%SPEECH_ON%Eh bien, si c\'Ã©tait un jeu, j\'ai bien aimÃ© y jouer.%SPEECH_OFF% | %randombrother% fait un signe de tÃªte pour les morts.%SPEECH_ON%Il est fort probable que %employer% ne croie pas qu\'un groupe de brigands se dÃ©guise en bÃªtes.%SPEECH_OFF%Approuvant, vous ordonnez aux hommes de commencer Ã  collecter les masques et les dÃ©guisements comme preuves. | Vous aurez besoin de preuves Ã  montrer Ã  votre employeur, %employer%. Ce n\'Ã©taient pas les bÃªtes que vous cherchiez, mais ils portent beaucoup de dÃ©guisements que votre employeur serait probablement plus intÃ©ressÃ© Ã  voir. L\'un des hommes s\'interroge Ã  voix haute.%SPEECH_ON%Alors, pour quoi jouaient-ils Ã  se dÃ©guiser ?%SPEECH_OFF%%bro2% plie certains des dÃ©guisements sous son bras en les collectant.%SPEECH_ON%Suicide par cÃ©rÃ©monie ? Leur danse et leur amusement ont attirÃ© notre attention, aprÃ¨s tout.%SPEECH_OFF%Il ramasse l\'un des dÃ©guisements, mais la tÃªte du mort s\'y accroche. Le mercenaire rit en expulsant la tÃªte du mort d\'un coup de pied.}",
			Image = "",
			List = [],
			Options = [
				{
					Text = "Retournons Ã  %townname%!",
					function getResult()
					{
						return 0;
					}

				}
			]
		});
		this.m.Screens.push({
			ID = "CollectingGhouls",
			Title = "AprÃ¨s la bataille...",
			Text = "[img]gfx/ui/events/event_131.png[/img]{Le combat terminÃ©, vous marchez vers un Nachzehrer mort et vous vous agenouillez. S\'il n\'y avait pas un mur de dents mal taillÃ©es, vous pourriez facilement glisser votre tÃªte dans la gueule surdimensionnÃ©e de la bÃªte. Au lieu d\'admirer les dÃ©fauts dentaires, vous sortez un couteau et sciez sa tÃªte, dÃ©chirant la couche de peau extÃ©rieure trÃ¨s rÃ©sistante avant de couper, Ã©tonnamment, les muscles et les tendons. Vous relevez la tÃªte et ordonnez Ã  %companyname% de faire de mÃªme. %employer% attendra des preuves, aprÃ¨s tout. | Le corps mort des Nachzehrers ressemblent plus Ã  des rochers qu\'Ã  des bÃªtes, ils sont couchÃ©s et immobiles. Des mouches s\'accouplent dÃ©jÃ  dans leur bouche, semant la vie sur les restes Ã©cumeux de la mort. Vous ordonnez Ã  %randombrother% de prendre une tÃªte, car %employer% attend une preuve. | Les Nachzehrers morts sont Ã©parpillÃ©s. Vous vous agenouillez Ã  cÃ´tÃ© de l\'un d\'eux et regardez sa bouche. Ce qui se trouvait dans ses poumons est encore en train d\'en sortir, avec une respiration sifflante. Mettant un tissu sur votre nez, vous utilisez l\'autre main pour couper son cou avec une lame, coupant la tÃªte et la tenant en l\'air. Vous ordonnez Ã  quelques frÃ¨res de faire de mÃªme car %employer% attendra des preuves. | Un Nachzehrer mort est un spÃ©cimen intÃ©ressant Ã  contempler. On ne peut s\'empÃªcher de se demander oÃ¹ il se situe dans le cycle de la nature. Il a la forme d\'un homme brut, est musclÃ© comme une bÃªte, et sa tÃªte est noueuse, avec des traits issus des cauchemars d\'un sauvage. Vous ordonnez Ã  %companyname% de commencer Ã  collecter les tÃªtes de ces choses immondes car %employer% voudra sÃ»rement des preuves.}",
			Image = "",
			List = [],
			Options = [
				{
					Text = "Retournons Ã  %townname%!",
					function getResult()
					{
						return 0;
					}

				}
			]
		});
		this.m.Screens.push({
			ID = "CollectingSpiders",
			Title = "AprÃ¨s la bataille...",
			Text = "[img]gfx/ui/events/event_123.png[/img]{Vous ordonnez Ã  vos hommes de parcourir le champ et de ramasser le plus de parties possibles des araignÃ©es. Quelques-uns font l\'erreur de toucher les poils des pattes des araignÃ©es, ce qui les laisse se gratter et forme rapidement des Ã©ruptions cutanÃ©es. | Les araignÃ©es jonchent le terrain comme elles le feraient dans le coin d\'un grenier. Dans la mort, elles ressemblent Ã  des gants gÃ©ants fermement serrÃ©s les uns contre les autres. Vous demandez aux hommes d\'Ã©carter les pattes pour rÃ©colter les preuves des restes des bÃªtes. | Les mercenaires parcourent le champ, dÃ©coupant et sciant les restes raides des araignÃ©es pour les ramener Ã  %employer%. MÃªme mortes, les araignÃ©es sont effroyables, semblant Ã  deux doigts de revenir Ã  la vie et de s\'enrouler autour de l\'animal le plus proche. Leurs traits horribles et leur taille surrÃ©aliste n\'empÃªchent pas certains mercenaires de danser autour d\'elles, de claquer la langue et de siffler, et de s\'attaquer aux phobies de ceux qui sont moins enclins Ã  s\'approcher de ces maudites choses.}",
			Image = "",
			List = [],
			Options = [
				{
					Text = "Retournons Ã  %townname%!",
					function getResult()
					{
						return 0;
					}

				}
			]
		});
		this.m.Screens.push({
			ID = "Success1",
			Title = "Ã votre retour...",
			Text = "[img]gfx/ui/events/event_04.png[/img]{Vous retournez voir %employer% et posez l\'une des peaux sur son bureau. Les griffes frappent contre le cÃ´tÃ© du chÃªne. L\'homme en soulÃ¨ve une, puis la laisse retomber.%SPEECH_ON%Je vois que vous avez trouvÃ© les bÃªtes que nous cherchions.%SPEECH_OFF%Vous lui parlez de la bataille. Il semble trÃ¨s content, il sort un petit coffre en bois de son Ã©tagÃ¨re et vous le donne.%SPEECH_ON%%reward_completion% couronnes, comme convenu. Les habitants de %townname% mÃ©ritent le rÃ©pit que vous leur avez donnÃ© face Ã  de telles horreurs.%SPEECH_OFF% | Quand on entre dans le bureau de %employer%, il recule presque instantanÃ©ment.%SPEECH_ON%Par l\'enfer des dieux, qu\'avez-vous dans la main, mercenaire ?%SPEECH_OFF%Vous tenez la nuque d\'une peau. Du sang noir s\'Ã©coule du cou et Ã©clabousse le sol.%SPEECH_ON%Une des bÃªtes que vous cherchiez. Si vous avez besoin de preuves du reste, j\'en ai qui attendent dehors...%SPEECH_OFF%L\'homme lÃ¨ve la main, pour vous arrÃªter.%SPEECH_ON%Un seul suffit Ã  ma conviction. TrÃ¨s bon travail, mercenaire. Votre paie vous sera versÃ©e par %randomname%, un conseiller que vous avez probablement croisÃ© dans les couloirs. Il est assez laid et il vous portera les %reward_completion% couronnes, comme promis.%SPEECH_OFF%L\'homme jette un autre regard sur la bÃªte puis secoue lentement la tÃªte.%SPEECH_ON%Que les morts et leurs survivants trouvent la paix dans la disparition de ces crÃ©atures immondes.%SPEECH_OFF% | %employer% accueille votre retour avec un gobelet de vin.%SPEECH_ON%Buvez, tueur de bÃªtes.%SPEECH_OFF%Vous Ãªtes curieux de savoir comment il est dÃ©jÃ  au courant de votre succÃ¨s. Il rejette votre curiositÃ©.%SPEECH_ON%J\'ai beaucoup d\'yeux et d\'oreilles dans ce pays - pas des espions, bien sÃ»r, mais les gens du peuple ont la langue bien pendue. Je devrais le savoir, j\'en suis un ! Vous avez bien travaillÃ© ce coup-lÃ , mercenaire, alors prenez une gorgÃ©e. C\'est un trÃ¨s bon vin.%SPEECH_OFF%C\'est bon. La rÃ©compense de %reward_completion% couronnes avec laquelle vous sortez est bien meilleure, cependant. %employer% vous arrÃªte.%SPEECH_ON%Juste pour que vous sachiez, mercenaire, ces bÃªtes ont tuÃ© des bonnes personnes lÃ -bas. Ces gens ont peut-Ãªtre peur de vous, Ã©tant le mercenaire que vous Ãªtes, mais ils vous sont tout de mÃªme Ã©ternellement reconnaissants.%SPEECH_OFF%Vous pesez les couronnes. TrÃ¨s reconnaissant, oui... | %employer% fait quelques pas en arriÃ¨re.%SPEECH_ON%Ah, euh, je vois que vous avez tuÃ© les bÃªtes. C\'est une trÃ¨s belle fourrure que vous avez lÃ .%SPEECH_OFF%Vous laissez tomber ce que vous aviez apportÃ© : une Ã©paisse et lourde criniÃ¨re d\'origine bestiale s\'effondre en un tas de fourrure et de chair. L\'homme, presque trop effrayÃ© pour s\'approcher, vous lance une sacoche.%SPEECH_ON%%reward_completion% couronnes, comme convenu. Je vais aller voir le peuple et leur annoncer votre succÃ¨s. Enfin, nous pouvons Ãªtre en paix.%SPEECH_OFF% | %employer% est assis Ã  sa table, les jambes en l\'air dans un coin. Ses yeux fixent le plafond, les coins de son visage sont pincÃ©s par des plis flÃ©tris. Il vous regarde.%SPEECH_ON%Bienvenue de nouveau. J\'ai Ã©tÃ© informÃ© de vos faits et gestes... de vos combats contre les monstres.%SPEECH_OFF%Vous acquiescez en cherchant votre rÃ©compense. L\'homme vous montre la porte.%SPEECH_ON%%randomname%, un collÃ¨gue conseiller de %townname%, a votre paiement Ã  l\'extÃ©rieur. %reward_completion% couronnes comme convenu. Et les habitants de %townname%, mÃªme s\'ils vous craignent, vous remercient pour votre venue ici. Merci, mercenaire.%SPEECH_OFF% | %employer% nourrit un de ses chiens quand vous revenez. Le cabot laisse tomber son os pour renifler ce que vous avez apportÃ©. L\'homme montre la fourrure.%SPEECH_ON%C\'est quoi cette chose immonde ?%SPEECH_OFF%Vous haussez les Ã©paules et la jetez sur sa table. Le chien pointe son nez vers l\'une des griffes, grogne, puis commence Ã  la lÃ©cher. %employer% sourit briÃ¨vement, puis va vers son Ã©tagÃ¨re, prend un coffre en bois et vous le tend.%SPEECH_ON%%reward_completion% ccouronnes, n\'est-ce pas ? Vous devriez savoir que vous avez apportÃ© la paix aux habitants de %townname%.%SPEECH_OFF%Vous acquiescez.%SPEECH_ON%Leur bonheur se prÃ©sente-t-il aussi sous forme de couronnes ?%SPEECH_OFF%%employer% fronce les sourcils devant votre humour cupide.%SPEECH_ON%Non, c\'est n\'est pas le cas. Passez une bonne journÃ©e, mercenaire.%SPEECH_OFF%}",
			Image = "",
			Characters = [],
			List = [],
			ShowEmployer = true,
			Options = [
				{
					Text = "Une chasse rÃ©ussie.",
					function getResult()
					{
						this.World.Assets.addBusinessReputation(this.Const.World.Assets.ReputationOnContractSuccess);
						this.World.Assets.addMoney(this.Contract.m.Payment.getOnCompletion());
						this.World.FactionManager.getFaction(this.Contract.getFaction()).addPlayerRelation(this.Const.World.Assets.RelationCivilianContractSuccess, "DÃ©barrasser la ville des loups-garous");
						this.World.Contracts.finishActiveContract();
						return 0;
					}

				}
			],
			function start()
			{
				this.List.push({
					id = 10,
					icon = "ui/icons/asset_money.png",
					text = "Vous recevez [color=" + this.Const.UI.Color.PositiveEventValue + "]" + this.Contract.m.Payment.getOnCompletion() + "[/color] Couronnes"
				});
				this.Contract.m.SituationID = this.Contract.resolveSituation(this.Contract.m.SituationID, this.Contract.m.Home, this.List);
			}

		});
		this.m.Screens.push({
			ID = "Success2",
			Title = "Ã votre retour...",
			Text = "[img]gfx/ui/events/event_04.png[/img]{%employer% se rÃ©jouit de votre retour.%SPEECH_ON%J\'ai dÃ©jÃ  entendu la, je suppose, splendide nouvelle. Je ne peux pas le croire, cependant. Une bande de brigands qui s\'amusent Ã  se dÃ©guiser. Des loups dans... des habits de loups ?%SPEECH_OFF%Il vous sourit, s\'attendant Ã  ce que vous riiez de sa blague de mauvais goÃ»t. Vous haussez les Ã©paules. Il hausse les Ã©paules aussi.%SPEECH_ON%Ah, bien. Votre paiement, %reward_completion% couronnes, vous attend dehors. Je vais dire aux habitants de %townname% que les monstres qu\'ils craignent ne sont que des hommes.%SPEECH_OFF% | Vous revenez avec les costumes des brigands fous. %employer% fait tourner les dÃ©guisements de gauche Ã  droite.%SPEECH_ON%IntÃ©ressant. C\'est trÃ¨s bien fait. Je dirais presque que les brigands ont Ã©tÃ© intelligents sur ce coup.%SPEECH_OFF%Il prend l\'un des masques et semble prÃªt Ã  l\'essayer, puis s\'arrÃªte, comme s\'il ne devait pas faire Ã§a devant un public. Il le repose et vous sourit.%SPEECH_ON%Enfin, bref, mercenaire... bon travail. Vous aurez %reward_completion% couronnes qui vous attendront dehors auprÃ¨s d\'un des conseillers de %townname%. Il veillera sur vous. Maintenant, le peuple de %townname% peut enterrer ses morts et Ãªtre enfin en paix.%SPEECH_OFF% | %employer% est mort de rire Ã  votre rÃ©vÃ©lation.%SPEECH_ON%Des hommes ? Il n\'y avait que des hommes ?%SPEECH_OFF%Vous acquiescez, mais essayez de remettre l\'homme sur les rails.%SPEECH_ON%Ils ont tuÃ© beaucoup de paysans et ils Ã©taient toujours dangereux.%SPEECH_OFF%Votre employeur acquiesce.%SPEECH_ON%Bien sÃ»r, bien sÃ»r ! Je ne voulais pas dÃ©prÃ©cier quoi que ce soit ou qui que ce soit. Ne vous avisez pas d\'assumer des choses sur ce que je dis, mercenaire, ce sont mes amis et voisins qui meurent lÃ -bas ! En tout cas, vous avez fait ce que je vous ai demandÃ© et je vous en suis trÃ¨s reconnaissant.%SPEECH_OFF%Il vous remet une sacoche de couronnes. Vous comptez %reward_completion% Ã  l\'intÃ©rieur avant de prendre congÃ©. L\'homme vous rappelle en disant.%SPEECH_ON%Vous comprenez sÃ»rement qu\'on essaie de trouver de l\'humour dans ce monde horrible, non ? Parce que c\'est moi qui suis allÃ© aux funÃ©railles de tous ceux qui ont Ã©tÃ© tuÃ©s. Je n\'irai pas dans la tombe avec une tÃªte d\'enterrement, peu importe Ã  quel point cet endroit maudit essaie de me l\'imposer.%SPEECH_OFF% | Vous montrez Ã  %employer% les preuves des brigands malicieux. Il pioche dans les morceaux de dÃ©guisements, frottant le sang croÃ»tÃ© sous ses doigts.%SPEECH_ON%C\'est bien le sang d\'hommes. Ãtes-vous sÃ»r qu\'ils ne s\'amusaient pas juste Ã  faire semblant et que les vrais monstres sont toujours lÃ  ?%SPEECH_OFF%Vous pincez les lÃ¨vres et expliquez qu\'ils vous ont attaquÃ© avec des armes trÃ¨s rÃ©elles pas des jouets. %employer% acquiesce, semblant comprendre, bien qu\'un peu mÃ©fiant.%SPEECH_ON%Je suppose que je pourrais juste attendre et voir si les monstres reviennent. S\'ils reviennent, eh bien, un homme trahi fait un excellent monstre en soi, n\'est-ce pas ?%SPEECH_OFF%Vous dites simplement Ã  l\'homme de vous payer et attendez de voir s\'il vous fait confiance. Il acquiesce, vous donne %reward_completion% couronnes et vous laisse partir.%SPEECH_ON%J\'espÃ¨re vraiment que vous dites la vÃ©ritÃ©, mercenaire. %townname% aurait bien besoin d\'un rÃ©pit contre les multiples horreurs qui se dÃ©chaÃ®nent sans cesse dans ce monde maudit.%SPEECH_OFF% | %employer% passe un doigt le long du bord d\'un dÃ©guisement.%SPEECH_ON%La fourrure est douce au toucher. TrÃ¨s authentique...%SPEECH_OFF%Il lÃ¨ve les yeux vers vous.%SPEECH_ON%Je me demande s\'ils ont tuÃ© les monstres, et puis... ont dÃ©cidÃ© de porter leurs peaux ? Mais pourquoi ? Vous pensez qu\'ils Ã©taient maudits ?%SPEECH_OFF%Vous haussez les Ã©paules et rÃ©pondez.%SPEECH_ON%Tout ce que je peux dire, c\'est qu\'ils avaient l\'apparence de monstres, et la cruautÃ© de ceux-ci aussi. Ils nous ont attaquÃ©s et ont payÃ© pour Ã§a. Est-ce que l\'un de vos habitants a repÃ©rÃ© des crÃ©atures depuis ?%SPEECH_OFF%L\'homme sort une sacoche de %reward_completion% couronnes et la fait glisser vers vous.%SPEECH_ON%Non, ils ne l\'ont pas fait. En fait, ils commencent Ã  s\'aventurer de nouveau dehors. Je ne veux pas dire sur les routes, mais quitter la sÃ©curitÃ© de leur porte d\'entrÃ©e est un grand pas pour beaucoup ! Vous nous avez apportÃ© la paix, mercenaire, et nous vous en remercions.%SPEECH_OFF%}",
			Image = "",
			List = [],
			ShowEmployer = true,
			Options = [
				{
					Text = "BÃªtes, hommes... ce qui compte, c\'est les couronnes.",
					function getResult()
					{
						this.World.Assets.addBusinessReputation(this.Const.World.Assets.ReputationOnContractSuccess);
						this.World.Assets.addMoney(this.Contract.m.Payment.getOnCompletion());
						this.World.FactionManager.getFaction(this.Contract.getFaction()).addPlayerRelation(this.Const.World.Assets.RelationCivilianContractSuccess, "DÃ©barrasser la ville des loups-garous");
						this.World.Contracts.finishActiveContract();
						return 0;
					}

				}
			],
			function start()
			{
				this.List.push({
					id = 10,
					icon = "ui/icons/asset_money.png",
					text = "Vous recevez [color=" + this.Const.UI.Color.PositiveEventValue + "]" + this.Contract.m.Payment.getOnCompletion() + "[/color] Couronnes"
				});
				this.Contract.m.SituationID = this.Contract.resolveSituation(this.Contract.m.SituationID, this.Contract.m.Home, this.List);
			}

		});
		this.m.Screens.push({
			ID = "Success3",
			Title = "Ã votre retour...",
			Text = "[img]gfx/ui/events/event_04.png[/img]{Vous trouvez %employer% en train de faire ses besoins. Il se lÃ¨ve et remonte son pantalon, un serviteur rÃ©cupÃ©re rapidement un seau de lÃ  oÃ¹ il Ã©tait assis. Le pauvre serviteur se prÃ©cipite hors de la piÃ¨ce. %employer% montre du doigt la tÃªte du Nachzehrer qui pend de votre main.%SPEECH_ON%C\'est absolument dÃ©goÃ»tant. %randomname%, donnez Ã  cet homme sa paie. %reward% couronnes, c\'est Ã§a ?%SPEECH_OFF% | Vous placez la tÃªte du Nachzehrer sur le bureau de %employer%. Pour une raison quelconque, des fluides s\'Ã©coulent encore de son cou, dÃ©goulinant sur le bureau en chÃªne et le tachant sans doute. L\'homme se penche en arriÃ¨re, posant ses doigts sur son ventre.%SPEECH_ON%Nachzehrers? Et quoi d\'autre, des fantÃ´mes ?%SPEECH_OFF%L\'homme se moque de lui-mÃªme.%SPEECH_ON%Rien n\'est trop difficile pour vous, mercenaire.%SPEECH_OFF%Il claque des doigts et un serviteur arrive, vous remettant une sacoche de %reward% couronnes. | Entre la bataille et la marche jusqu\'Ã  %employer%, la gueule du Nachzehrer s\'est remplie de mouches, sa langue a Ã©tÃ© remplacÃ©e par une boule noire informe et lancinante qui bourdonne plus qu\'elle ne mord. %employer% y jette un coup d\'oeil et met un chiffon sur sa bouche.%SPEECH_ON%Oui, j\'ai compris, enlevez-la, s\'il vous plaÃ®t.%SPEECH_OFF%Il fait signe Ã  l\'un de ses gardes de venir et on vous remet une sacoche contenant %reward% couronnes. | %employer% aux yeux d\'acier se penche en avant pour bien voir la tÃªte de Nachzehrer que vous avez apportÃ©e.%SPEECH_ON%C\'est une sacrÃ©e vue, mercenaire. Je suis heureux que vous me l\'ayez fait dÃ©couvrir.%SPEECH_OFF%Il se penche en arriÃ¨re.%SPEECH_ON%Laisse-la sur mon bureau. Peut-Ãªtre que je peux effrayer les enfants avec. Les petits cons s\'habituent trop aux bijoux, je crois.%SPEECH_OFF%Il claque des doigts et un serviteur vient vous donner %reward% couronnes. | Vous apportez la tÃªte du Nachzehrer Ã  %employer% qui la regarde longuement.%SPEECH_ON%Ãa me rappelle quelqu\'un. Je n\'arrive pas Ã  mettre le doigt dessus, et je ne suis pas sÃ»r que je devrais. Excusez-moi, mercenaire, je vous emprunte votre temps sans payer. Serviteur, donne Ã  cet homme son argent !%SPEECH_OFF%Vous Ãªtes rÃ©compensÃ© comme promis. | %employer% prend la tÃªte du Nachzehrer et la brandit. Quelques chats miaulants semblent surgir de nulle part et tournent autour de la tÃªte comme le feraient des buses au-dessus de leur proie. Il la jette par la fenÃªtre et les fÃ©lins s\'enfuient.%SPEECH_ON%Bon travail, mercenaire. %reward% couronnes, comme promis.%SPEECH_OFF% | Vous posez une tÃªte de Nachzehrer sur la table de %employer%. Il lÃ¨ve les yeux de son assiette, jette un coup d\'Åil Ã  la tÃªte, puis Ã  vous.%SPEECH_ON%Je mangeais, mercenaire.%SPEECH_OFF%L\'argenterie s\'entrechoque alors que l\'homme, dÃ©goÃ»tÃ©, jette l\'assiette sur le cÃ´tÃ©. Un serviteur emporte la nourriture, probablement pour essayer de la manger lui-mÃªme. %employer% sort une sacoche et la pose sur la table.%SPEECH_ON%%reward_completion% couronnes comme promis.%SPEECH_OFF%}",
			Image = "",
			List = [],
			ShowEmployer = true,
			Options = [
				{
					Text = "Une chasse rÃ©ussie.",
					function getResult()
					{
						this.World.Assets.addBusinessReputation(this.Const.World.Assets.ReputationOnContractSuccess);
						this.World.Assets.addMoney(this.Contract.m.Payment.getOnCompletion());
						this.World.FactionManager.getFaction(this.Contract.getFaction()).addPlayerRelation(this.Const.World.Assets.RelationCivilianContractSuccess, "DÃ©barrasser la ville des nachzehrers");
						this.World.Contracts.finishActiveContract();
						return 0;
					}

				}
			],
			function start()
			{
				this.List.push({
					id = 10,
					icon = "ui/icons/asset_money.png",
					text = "Vous recevez [color=" + this.Const.UI.Color.PositiveEventValue + "]" + this.Contract.m.Payment.getOnCompletion() + "[/color] Couronnes"
				});
				this.Contract.m.SituationID = this.Contract.resolveSituation(this.Contract.m.SituationID, this.Contract.m.Home, this.List);
			}

		});
		this.m.Screens.push({
			ID = "Success4",
			Title = "Ã votre retour...",
			Text = "[img]gfx/ui/events/event_04.png[/img]{Vous entrez dans le bureau de %employer% en portant l\'araignÃ©e morte sur votre dos. L\'homme hurle et sa chaise se renverse sur le sol. Il se lÃ¨ve d\'un bond et sort un couteau Ã  beurre de son bureau. Vous jetez l\'araignÃ©e morte de votre Ã©paule et elle s\'Ã©crase sur son dos. Le citadin s\'avance lentement. Il plante le couteau Ã  beurre dans une miche de pain et secoue la tÃªte.%SPEECH_ON%Par les vieux dieux, vous avez failli me faire avoir une crise cardiaque.%SPEECH_OFF%En hochant la tÃªte, vous dites Ã  l\'homme qu\'il a fallu plus qu\'une grosse botte pour Ã©craser ces bÃªtes. Il vous rÃ©pond par un signe de tÃªte.%SPEECH_ON%Bien sÃ»r, mercenaire, bien sÃ»r ! Votre paiement de %reward_completion% couronnes est juste lÃ  dans le coin. Et, s\'il vous plaÃ®t, prenez cette chose impie avec vous quand vous partez.%SPEECH_OFF% | Les chats sifflent et s\'enfuient dÃ¨s que vous entrez dans la chambre de %employer%. Quelques chiens, toujours friands de mystÃ¨res, courent autour de vos jambes et reniflent la carcasse de l\'araignÃ©e, leur nez se fronce et s\'Ã©loigne, mais reviennent toujours pour en redemander. Le citadin est en train d\'Ã©crire des notes et il n\'en croit pas ses yeux. Il pose sa plume d\'oie.%SPEECH_ON%C\'est une araignÃ©e gÃ©ante ?%SPEECH_OFF%Vous acquiescez. Il sourit et reprend sa plume d\'oie.%SPEECH_ON%J\'aurais peut-Ãªtre dÃ» vous suggÃ©rer d\'apporter une trÃ¨s grosse chaussure. Votre paiement de %reward_completion% couronnes est lÃ , dans la sacoche. Allez-y, prenez-la. Tout est lÃ . Et vous pouvez laisser le cadavre. J\'aimerais voir la crÃ©ature de plus prÃ¨s.%SPEECH_OFF% | Votre employeur organise une fÃªte d\'anniversaire quand vous entrez dans son bureau avec une araignÃ©e gÃ©ante morte et jetez le cadavre sur le sol. Ses poils hÃ©rissÃ©s sifflent en grattant la pierre et ses huit pattes se balancent Ã  l\'envers comme un meuble d\'horreur et elles s\'Ã©cartent sur le cÃ´tÃ© comme si elles Ã©taient prÃªte Ã  bondir. Le chaos Ã©clate, tout le monde crie et se prÃ©cipite vers la porte ou la fenÃªtre ouverte la plus proche, avec des confettis colorÃ©s qui tournoient dans leur sillage. Votre employeur se tient seul dans l\'espace vide et pince ses lÃ¨vres.%SPEECH_ON%Vraiment, mercenaire, Ã©tait-ce nÃ©cessaire ?%SPEECH_OFF%Vous acquiescez et lui dites que vous avez Ã©tÃ© embauchÃ© parce que c\'Ã©tait nÃ©cessaireet que vous serez payÃ© car c\'est trÃ¨s nÃ©cessaire. L\'homme secoue la tÃªte et fait un geste vers le coin de la piÃ¨ce toiut cela en ayant une fausse queue d\'Ã¢ne.%SPEECH_ON%Votre sacoche est lÃ -bas avec %reward_completion% couronnes, comme convenu. Maintenant, sortez cette horrible chose d\'ici et dites Ã  ces braves gens que les festivitÃ©s ne sont pas forcÃ©ment terminÃ©es.%SPEECH_OFF% | Vous ne pensez pas pouvoir faire entrer le cadavre de l\'araignÃ©e dans le bureau de %employer%, alors Ã  la place vous le tapez contre sa fenÃªtre depuis l\'extÃ©rieur. Vous entendez un cri horrifiÃ© et le bruit des meubles qui tombent. Un instant plus tard, la fenÃªtre adjacente s\'ouvre. Votre employeur se penche dehors.%SPEECH_ON%Oh ! TrÃ¨s fort, mercenaire, trÃ¨s fort ! Que les vieux dieux vous servent mille ans d\'oisivetÃ© pour celui-lÃ  !%SPEECH_OFF%En hochant la tÃªte, vous demandez quel est votre salaire. Il vous lance Ã  contrecÅur une sacoche.%SPEECH_ON%Les %reward_completion% couronnes sont lÃ -dedans. Maintenant, prenez cette horrible chose et partez !%SPEECH_OFF%}",
			Image = "",
			List = [],
			ShowEmployer = true,
			Options = [
				{
					Text = "Une chasse rÃ©ussie.",
					function getResult()
					{
						this.World.Assets.addBusinessReputation(this.Const.World.Assets.ReputationOnContractSuccess);
						this.World.Assets.addMoney(this.Contract.m.Payment.getOnCompletion());
						this.World.FactionManager.getFaction(this.Contract.getFaction()).addPlayerRelation(this.Const.World.Assets.RelationCivilianContractSuccess, "DÃ©barrasser la ville des webknechts");
						this.World.Contracts.finishActiveContract();
						return 0;
					}

				}
			],
			function start()
			{
				this.List.push({
					id = 10,
					icon = "ui/icons/asset_money.png",
					text = "Vous recevez [color=" + this.Const.UI.Color.PositiveEventValue + "]" + this.Contract.m.Payment.getOnCompletion() + "[/color] Couronnes"
				});
				this.Contract.m.SituationID = this.Contract.resolveSituation(this.Contract.m.SituationID, this.Contract.m.Home, this.List);
			}

		});
	}

	function onPrepareVariables( _vars )
	{
		local brothers = this.World.getPlayerRoster().getAll();
		local candidates_helpful = [];
		local candidates_bro1 = [];
		local candidates_bro2 = [];
		local helpful;
		local bro1;
		local bro2;

		foreach( bro in brothers )
		{
			if (bro.getBackground().isLowborn() && !bro.getBackground().isOffendedByViolence() && !bro.getSkills().hasSkill("trait.bright") && bro.getBackground().getID() != "background.hunter")
			{
				candidates_helpful.push(bro);
			}

			if (!bro.getSkills().hasSkill("trait.player"))
			{
				candidates_bro1.push(bro);

				if (!bro.getBackground().isOffendedByViolence() && bro.getBackground().isCombatBackground())
				{
					candidates_bro2.push(bro);
				}
			}
		}

		if (candidates_helpful.len() != 0)
		{
			helpful = candidates_helpful[this.Math.rand(0, candidates_helpful.len() - 1)];
		}
		else
		{
			helpful = brothers[this.Math.rand(0, brothers.len() - 1)];
		}

		if (candidates_bro1.len() != 0)
		{
			bro1 = candidates_bro1[this.Math.rand(0, candidates_bro1.len() - 1)];
		}
		else
		{
			bro1 = brothers[this.Math.rand(0, brothers.len() - 1)];
		}

		if (candidates_bro2.len() > 1)
		{
			do
			{
				bro2 = candidates_bro2[this.Math.rand(0, candidates_bro2.len() - 1)];
			}
			while (bro2.getID() == bro1.getID());
		}
		else if (brothers.len() > 1)
		{
			do
			{
				bro2 = brothers[this.Math.rand(0, brothers.len() - 1)];
			}
			while (bro2.getID() == bro1.getID());
		}
		else
		{
			bro2 = bro1;
		}

		_vars.push([
			"helpfulbrother",
			helpful.getName()
		]);
		_vars.push([
			"bro1",
			bro1.getName()
		]);
		_vars.push([
			"bro2",
			bro2.getName()
		]);
		_vars.push([
			"direction",
			this.m.Target == null || this.m.Target.isNull() ? "" : this.Const.Strings.Direction8[this.World.State.getPlayer().getTile().getDirection8To(this.m.Target.getTile())]
		]);
	}

	function onHomeSet()
	{
		if (this.m.SituationID == 0)
		{
			this.m.SituationID = this.m.Home.addSituation(this.new("scripts/entity/world/settlements/situations/disappearing_villagers_situation"));
		}
	}

	function onClear()
	{
		if (this.m.IsActive)
		{
			if (this.m.Target != null && !this.m.Target.isNull())
			{
				this.m.Target.getSprite("selection").Visible = false;
				this.m.Target.setOnCombatWithPlayerCallback(null);
			}

			this.m.Home.getSprite("selection").Visible = false;
		}

		if (this.m.Home != null && !this.m.Home.isNull() && this.m.SituationID != 0)
		{
			local s = this.m.Home.getSituationByInstance(this.m.SituationID);

			if (s != null)
			{
				s.setValidForDays(3);
			}
		}
	}

	function onIsValid()
	{
		return true;
	}

	function onSerialize( _out )
	{
		if (this.m.Target != null && !this.m.Target.isNull())
		{
			_out.writeU32(this.m.Target.getID());
		}
		else
		{
			_out.writeU32(0);
		}

		this.contract.onSerialize(_out);
	}

	function onDeserialize( _in )
	{
		local target = _in.readU32();

		if (target != 0)
		{
			this.m.Target = this.WeakTableRef(this.World.getEntityByID(target));
		}

		this.contract.onDeserialize(_in);
	}

});

